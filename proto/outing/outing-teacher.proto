syntax = "proto3";


service OutingTeacher {
    rpc GetOutingWithFilter(GetOutingWithFilterRequest) returns (OutingResponse) {}
    rpc GetOutingStudentWithSN(GetOutingStudentWithSNRequest) returns (OutingResponse) {}
    rpc GetOutingStudentWithFloor(GetOutingStudentWithFloorRequest) returns (OutingResponse) {}
    rpc ApproveOuting(ConfirmOutingRequest) returns (ConfirmOutingResponse) {}
    rpc RejectOuting(ConfirmOutingRequest) returns (ConfirmOutingResponse) {}
    rpc CertifyOuting(ConfirmOutingRequest) returns (ConfirmOutingResponse) {}
}

message GetOutingWithFilterRequest {
    string uuid = 1;
    string status = 2;
    int32 grade = 3;
    int32 class_ = 4;
    int32 start = 5;
    int32 count = 6;
}

message GetOutingStudentWithSNRequest {
    string uuid = 1;
    int32 grade = 2;
    int32 class_ = 3;
    int32 start = 4;
    int32 count = 5;
}

message GetOutingStudentWithFloorRequest {
    string uuid = 1;
    int32 after_school = 2;
    int32 floor = 3;
    int32 start = 4;
    int32 count = 5;
}

message OutingResponse {
    int32 status = 1;
    int32 code = 2;
    string msg = 3;
    repeated TeacherOuting outing = 4;
}

message TeacherOuting {
    string name = 1;
    int32 grade = 2;
    int32 class_ = 3;
    int32 number = 4;
    string place = 5;
    string reason = 6;
    string date = 7;
    int64 start_time = 8;
    int64 end_time = 9;
    string status = 10;
    string situation = 11;
    bool is_late = 12;
}

message ConfirmOutingRequest {
    string uuid = 1;
    string oid = 2;
}

message ConfirmOutingResponse {
    int32 status = 1;
    int32 code = 2;
    string msg = 3;
}